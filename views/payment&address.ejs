<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&family=Rubik:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/payment.css" />

    <title>Payment&Address</title>
  </head>
  <body>
    <div class="container nav-container">
      <div class="nav-main">
        <h2 class="navmain-heading">VRNA</h2>
        <h5>SHOP</h5>
        <h5>CONTACT</h5>
        <h5>ABOUT</h5>
      </div>
      <div class="nav-sec">
        <h5><ion-icon name="search-outline"></ion-icon> </h5>
        <h5><ion-icon name="person-outline"></ion-icon></h5>
        <h5><ion-icon name="cart-outline"></ion-icon></h5>
        </div>
   
    </div>
    <h2 class="primary-heading">Payment And Address</h2>
  <div>  <div class="container outerContainer">
    <div class="container">

    
     
        <div class="row">
          <div class="col-md-8">
            <div class="card mb-4">
    
            </div>
          
            </div>
    
          
              <div class="">
                <p class="text-uppercase d-block">Change Address</p>
                <div class="selectAddress">
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" />
                      <label class="form-check-label" for="inlineRadio1">Address 1</label>
                    </div>
                    
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2" />
                      <label class="form-check-label" for="inlineRadio2"> Address 2</label>
                    </div>
                    
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3"  />
                      <label class="form-check-label" for="inlineRadio3">Address 3</label>
                    </div>
                  </div>
                 
    
    
              </div>
            
          </div>
         
          <div class="col-md-8 mb-4">
            <div class="card mb-4">
              <div class="card-header py-3">
                <h5 class="mb-0 text-font text-uppercase">Delivery address</h5>
              </div>
              <div class="card-body">
                <form>
                  <div class="row mb-4">
                    <div class="col">
                      <div class="form-outline">
                        <input type="text" id="form11Example1" class="form-control" value="<%= user.firstname %>" />
                        <label class="form-label" for="form11Example1">First name</label>
                      </div>
                    </div>
                    <div class="col">
                      <div class="form-outline">
                        <input type="text" id="form11Example2" class="form-control" value="<%= user.lastname %>" />
                        <label class="form-label" for="form11Example2">Last name</label>
                      </div>
                    </div>
                  </div>
                
                  <!-- Text input -->
                  <div class="form-outline mb-4">
                    <input type="text" id="form11Example4" class="form-control" value="<%=  user.address[0].houseaddress %>,<%=user.address[0]. addressLocality %>,<%=user.address[0]. addressCity %>"  />
                    <label class="form-label" for="form11Example4">Address</label>
                  </div>
                
                  <!-- Email input -->
                  <div class="form-outline mb-4">
                    <input type="number" id="form11Example5" class="form-control"value="<%=user.address[0].postalCode%>" />
                    <label class="form-label" for="form11Example5">Pincode</label>
                  </div>
                
                  <!-- Number input -->
                  <div class="form-outline mb-4">
                    <input type="number" id="form11Example6" class="form-control" 
                    value="<%=user.contactnumber%>" />
                    <label class="form-label" for="form11Example6">Phone</label>
                  </div>
                
                  <!-- Message input -->
                  <div class="form-outline mb-4">
                    <textarea class="form-control" id="form11Example7" rows="4"></textarea>
                    <label class="form-label" for="form11Example7">Additional information</label>
                  </div>
                </form>
                <div id="user-address" data-address="<%= JSON.stringify(user.address) %>"></div>

              </div>
              <a href="/user/editAddress" class="btn btn-Buynow">Edit Address</a>
            </div>
            
          </div>
    
    
    
    
    
    

    
      
      <!--Section: Design Block-->
    
    </div>
    <div class="container py-5 payment-Container">
     
      <div class="row">
          <div class="col-lg-6 ">
              <div class="card ">
                  <div class="card-header">
                      <div class="bg-white shadow-sm pt-4 pl-2 pr-2 pb-2">
                          <!-- Credit card form tabs -->
                          <ul role="tablist" class="nav bg-light nav-pills rounded nav-fill mb-3">
                              <li class="nav-item"> <a data-toggle="pill" href="#credit-card" class="nav-link  "> <i class="fas fa-credit-card mr-2"></i> Credit Card </a> </li>
                              <li class="nav-item"> <a data-toggle="pill" href="#paypal" class="nav-link "> <i class="fab fa-paypal mr-2"></i> Paypal </a> </li>
                              <li class="nav-item"> <a data-toggle="pill" href="#net-banking" class="nav-link "> <i class="fas fa-mobile-alt mr-2"></i> Net Banking </a> </li>
                              <li class="nav-item"> <a data-toggle="pill" href="#cash-ondelivery" class="nav-link active "> <i class="fas fa-mobile-alt mr-2"></i> Cash On Delivery </a> </li>
                          </ul>
                      </div> <!-- End -->
                      <!-- Credit card form content -->
                      <div class="tab-content">
                          <!-- credit card info-->
                          <div id="credit-card" class="tab-pane fade show  pt-3">
                              <form role="form" onsubmit="event.preventDefault()">
                                  <div class="form-group"> <label for="username">
                                          <h6>Card Owner</h6>
                                      </label> <input type="text" name="username" placeholder="Card Owner Name" required class="form-control "> </div>
                                  <div class="form-group"> <label for="cardNumber">
                                          <h6>Card number</h6>
                                      </label>
                                      <div class="input-group"> <input type="text" name="cardNumber" placeholder="Valid card number" class="form-control " required>
                                          <div class="input-group-append"> <span class="input-group-text text-muted"> <i class="fab fa-cc-visa mx-1"></i> <i class="fab fa-cc-mastercard mx-1"></i> <i class="fab fa-cc-amex mx-1"></i> </span> </div>
                                      </div>
                                  </div>
                                  <div class="row">
                                      <div class="col-sm-8">
                                          <div class="form-group"> <label><span class="hidden-xs">
                                                      <h6>Expiration Date</h6>
                                                  </span></label>
                                              <div class="input-group"> <input type="number" placeholder="MM" name="" class="form-control" required> <input type="number" placeholder="YY" name="" class="form-control" required> </div>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                          <div class="form-group mb-4"> <label data-toggle="tooltip" title="Three digit CV code on the back of your card">
                                                  <h6>CVV <i class="fa fa-question-circle d-inline"></i></h6>
                                              </label> <input type="text" required class="form-control"> </div>
                                      </div>
                                  </div>
                                  <div class="card-footer"> <button type="button" class="subscribe btn btn-primary btn-block shadow-sm"> Confirm Payment </button>
                              </form>
                          </div>
                      </div> <!-- End -->
                      <!-- Paypal info -->
                      <div id="paypal" class="tab-pane fade pt-3">
                          <h6 class="pb-2">Select your paypal account type</h6>
                          <div class="form-group "> <label class="radio-inline"> <input type="radio" name="optradio" checked> Domestic </label> <label class="radio-inline"> <input type="radio" name="optradio" class="ml-5">International </label></div>
                          <p> <button type="button" class="btn btn-primary "><i class="fab fa-paypal mr-2"></i> Log into my Paypal</button> </p>
                          <p class="text-muted"> Note: After clicking on the button, you will be directed to a secure gateway for payment. After completing the payment process, you will be redirected back to the website to view details of your order. </p>
                      </div> <!-- End -->
                      <!-- bank transfer info -->
                      <div id="net-banking" class="tab-pane fade pt-3">
                          <div class="form-group "> <label for="Select Your Bank">
                                  <h6>Select your Bank</h6>
                              </label> <select class="form-control" id="ccmonth">
                                  <option value="" selected disabled>--Please select your Bank--</option>
                                  <option>Bank 1</option>
                                  <option>Bank 2</option>
                                  <option>Bank 3</option>
                                  <option>Bank 4</option>
                                  <option>Bank 5</option>
                                  <option>Bank 6</option>
                                  <option>Bank 7</option>
                                  <option>Bank 8</option>
                                  <option>Bank 9</option>
                                  <option>Bank 10</option>
                              </select> </div>
                          <div class="form-group">
                              <p> <button type="button" class="btn btn-primary "><i class="fas fa-mobile-alt mr-2"></i> Proceed Payment</button> </p>
                          </div>
                          <p class="text-muted">Note: After clicking on the button, you will be directed to a secure gateway for payment. After completing the payment process, you will be redirected back to the website to view details of your order. </p>
                      </div> <!-- End -->
                      <!-- End -->
                       <!-- Paypal info -->
                       <div id="cash-ondelivery" class="tab-pane fade pt-3 ">
                      
                        <div class="form-group "> <label class="radio-inline"> <input type="radio" name="optradio" checked> Cash On Delivery </label></div>
                     
                    
                    </div> <!-- End -->
                  </div>
              </div>
          </div>
      </div>
     
    <div class="container priceContainer">
        <h5 class="price-heading">PRICE DETAILS</h5>
          <p class="pricedetailsp"><strong>Price : </strong><span id="price"> $<%=price%></span></p>
          <p class="pricedetailsp"><strong>Delivery Charge :</strong> <span id="deliveryCharge">$500</span>   </p>
          <p  class="pricedetailsp"><strong>TotalPrice :</strong><span id="totalPrice">$<%=totalPrice%></span>  </p>
          <a href="/user/orderConfirmed" class="btn btn-Buynow">CONFORM ORDER</a>
                
          </p>
          <a href="/user/cancelOrder" class="btn btn-Buynow">CANCEL ORDER</a>
       </div>

 </div>
</div>
</div>

    <footer>
      <div class="text-center footer-container">
        <div class="container">
          <div class="container row">
            <div class="col">
              <ul class="footerul">
                <li><h1 class="heading-footer footer-link">VRNA</h1></li>
                <li class="footer-link">
                  <p>
                    Workout Clothes designed to help you become your personal
                    best. Because when it comes to performing at your max, there
                    should be no obstacles – least of all your workout clothes.
                  </p>
                </li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">SHOPPING</a></li>
                <li><a class="footer-link" href="#">SALES</a></li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">SHOPPING</a></li>
                <li><a class="footer-link" href="#">Contact Us</a></li>
                <li><a class="footer-link" href="#">Payment Method</a></li>
                <li><a class="footer-link" href="#">Delivery</a></li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">NEWSLETTER</a></li>
                <li class="footer-link">
                  <p>
                    Be the first to know about new arrivals, look books, sales &
                    promos
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <br />
        <p class="copyright">Copyright © 3333 All rights reserved | VRNA</p>
      </div>
    
    </footer>
  
 <script src=" 
 https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<!-- Add this script block to your HTML template -->
<script>
  // Initialize the selected address index
  let selectedAddressIndex = 0; // Default to the first address

  // Update the displayed address
  function updateAddress() {
  // Get the user's address data from the data attribute
   const userAddressData = JSON.parse(document.getElementById('user-address').getAttribute('data-address'));
    const selectedAddress = userAddressData[selectedAddressIndex];
    const contactNumber = "<%= user.contactnumber %>"
    // Update the address fields in the form
    document.getElementById('form11Example4').value = `${selectedAddress.houseaddress}, ${selectedAddress.addressLocality}, ${selectedAddress.addressCity}`;
    document.getElementById('form11Example5').value = `${selectedAddress.postalCode}`;
    document.getElementById('form11Example6').value = contactNumber;
    
      // Remove the "checked" attribute from all radio buttons
      const allRadioButtons = document.querySelectorAll('.form-check-input');
    allRadioButtons.forEach((radio) => {
      radio.removeAttribute('checked');
    });

    // Set the "checked" attribute only for the currently selected radio button
    allRadioButtons[selectedAddressIndex].setAttribute('checked', 'checked');
  
 }



  // Add an event listener to all radio buttons
  const radioButtons = document.querySelectorAll('.form-check-input');
  radioButtons.forEach((radio, index) => {
    radio.addEventListener('change', () => {
      if (radio.checked) {
        selectedAddressIndex = index; 
        updateAddress(); // Update the displayed address
      }
    });
  });

  // Initial update when the page loads
  updateAddress();
  // payment
 // Add click event listeners to the tabs
 document.addEventListener('DOMContentLoaded', function() {
    // Add click event listeners to the tabs
    const tabs = document.querySelectorAll('.nav-link');
    tabs.forEach(tab => {
        tab.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent the default link behavior
            const tabId = tab.getAttribute('href').substring(1); // Get the href attribute without the #
            showTabContent(tabId); // Call the function to show the corresponding content
        });
    });

    // Function to show the corresponding content
    function showTabContent(tabId) {
        const allTabs = document.querySelectorAll('.tab-pane');
        allTabs.forEach(tab => {
            tab.style.display = 'none'; // Hide all tabs
        });

        const selectedTab = document.getElementById(tabId);
        selectedTab.style.display = 'block'; // Show the selected tab
    }

    // Initialize with the default tab (e.g., Credit Card)
    showTabContent('cash-ondelivery');
});

</script>


    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>