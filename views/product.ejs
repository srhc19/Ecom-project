<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&family=Rubik:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="elevatezoom/jquery.elevatezoom.js"></script> -->

  <link rel="stylesheet" href="/product.css" />
 

    <title>Product Page</title>
  </head>
  <body>
    <div class="container nav-container">
      <div class="nav-main">
        <h2 class="navmain-heading">VRNA</h2>
        <h5>SHOP</h5>
        <h5>CONTACT</h5>
        <h5>ABOUT</h5>
      </div>
      <div class="nav-sec">
        <h5><ion-icon name="search-outline"></ion-icon> </h5>
        <h5><ion-icon name="person-outline"></ion-icon></h5>
        <h5><ion-icon name="cart-outline"></ion-icon></h5>
        </div>
   
    </div>
    <h2 class="product-heading">PRODUCT DETAILS</h2>
    <div class="product-detail-container">
      <div class="product-images">
        
          <div class="image-gallery">
            <div class="imageoptions">
                <!--  'onclick' event to each 'imagesub' to change 'imagemain' and enable zoom -->
                <img class="imagesub" src="<%=data.productImages[1]%>" alt="Product Image 1" onclick="changeMainImage(this)">
                <img class="imagesub" src="<%=data.productImages[2]%>" alt="Product Image 2" onclick="changeMainImage(this)">
                <img class="imagesub" src="<%=data.productImages[3]%>" alt="Product Image 3" onclick="changeMainImage(this)">
                <img class="imagesub" src="<%=data.productImages[4]%>" alt="Product Image 4" onclick="changeMainImage(this)">
            </div>
            <!-- 'imagemain' image to be displayed and zoomed -->
           <div class="zoom-container">
             <img class="imagemain" id="mainImage" src="<%=data.productImages[0]%>" alt="Product Image 5" data-action="zoom" data-zoom-image="<%=data.productImages[0]%>"></div>

</div>
      </div>
      <div class="product-details">
          <h3><%=data.productName%></h3>
          <p class="product-description">Product description goes here. <BR>
            Provide details about the product, <br>such as its features and benefits.</p>
          <p class="product-price"><strong>$<%=data.productPrice%></strong></p>
          <div class="product-options">
              <label for="size">Size:</label>
              <select class="btn" id="size" name="size">
                  <option value="small">Small</option>
                  <option value="medium">Medium</option>
                  <option value="large">Large</option>
                  <!-- Add more size options if needed -->
              </select>
          </div>
          <a class=" add-to-cart-btn" href="
          #" data-card-id="<%=data._id%>" ><button class=" btn">Add to Cart</button></a>
          <!-- <a href="/user/addTOCartBtn/<%=data._id%>"> <button class=" btn">Add to Cart</button></a>
          <button class=" btn">Whishlist</button> -->
          <a href="/user/checkout/<%=data._id%>"> <button class=" btn">Buy Now</button></a>
      </div>
  </div>
    </div>
    <footer>
      <div class="text-center footer-container">
        <div class="container">
          <div class="container row">
            <div class="col">
              <ul class="footerul">
                <li><h1 class="heading-footer footer-link">VRNA</h1></li>
                <li class="footer-link">
                  <p>
                    Workout Clothes designed to help you become your personal
                    best. Because when it comes to performing at your max, there
                    should be no obstacles – least of all your workout clothes.
                  </p>
                </li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">SHOPPING</a></li>
                <li><a class="footer-link" href="#">SALES</a></li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">SHOPPING</a></li>
                <li><a class="footer-link" href="#">Contact Us</a></li>
                <li><a class="footer-link" href="#">Payment Method</a></li>
                <li><a class="footer-link" href="#">Delivery</a></li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">NEWSLETTER</a></li>
                <li class="footer-link">
                  <p>
                    Be the first to know about new arrivals, look books, sales &
                    promos
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <br />
        <p class="copyright">Copyright © 3333 All rights reserved | VRNA</p>
      </div>
    
    </footer>

    <script>

document.querySelector(".add-to-cart-btn").addEventListener("click", function (e) {
    e.preventDefault();
    const orderid = document.querySelector(".add-to-cart-btn").getAttribute("data-card-id");
    
    fetch(`/user/addToCartBtn/${orderid}`, {
      method: "GET"
    }).then((response) => {
      if (response.ok) {
        response.json().then((data) => {
          if (data.productadded) {
        
            // let count = Number(document.querySelector("#cartCount").textContent);
            // document.querySelector("#cartCount").textContent = count + 1;
            console.log("Product added to Cart");
            alert("Product added to Cart")
          }
        });
      } else {
        console.log("Failed to add product to cart");
      }
    });
  });

      // change the 'imagemain' image
      function changeMainImage(clickedImage) {

          var mainImage = document.getElementById("mainImage");
          // Set the 'src' attribute of 'imagemain' to the clicked image's 'src'
          mainImage.src = clickedImage.src;
      }
   
    $(document).ready(function () {
    $("#mainImage").elevateZoom({
      zoomType: "lens",
      lensShape: "round",
      lensSize: 500, 
    });
    
  });



  </script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>