<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&family=Rubik:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/otp.css" />

    <title>Otp Verification Page</title>
  </head>
  <body>
    <div class="container nav-container">
      <div class="nav-main">
        <h2 class="navmain-heading">VRNA</h2>
        <h5>SHOP</h5>
        <h5>CONTACT</h5>
        <h5>ABOUT</h5>
      </div>
      <div class="nav-sec">
        <h5><ion-icon name="search-outline"></ion-icon> </h5>
        <h5><ion-icon name="person-outline"></ion-icon></h5>
        <h5><ion-icon name="cart-outline"></ion-icon></h5>
        </div>
    </h5>
    </div>
    <div class="container">

      <div class="login-container">
        <img
          class="img-fluid login-img"
          src="/images/loginimg.webp"
          alt="loginPageImage"
        />

        <div class="main-container">
          <h2 class="primary-heading">ENTER OTP</h2>
          <form class="formtab" action="/otp/verifyOtp" method="post">
            <div>
              <!-- <label for="name">Name</label> -->
              <input
                placeholder=" Otp"
                class="input-value"
                type="number"
                id="otp"
                name="otp"
                required
              />
            </div>
            <div>
             
            
            <button class="submit-btn" type="submit">SUBMIT</button>
          </form>
    
          <p><a id="resendOtpLink" href="#" data-target="/user/registerresendOtp" style="display: none;">RESEND OTP</a></p>
          <div id="timer">5:00</div>
          <% if (messages.error) { %>
            <div class="error-message">
              <%= messages.error %>
            </div>
          <% } %>
        </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="text-center footer-container">
        <div class="container">
          <div class="container row">
            <div class="col">
              <ul class="footerul">
                <li><h1 class="heading-footer footer-link">VRNA</h1></li>
                <li class="footer-link">
                  <p>
                    Workout Clothes designed to help you become your personal
                    best. Because when it comes to performing at your max, there
                    should be no obstacles – least of all your workout clothes.
                  </p>
                </li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">SHOPPING</a></li>
                <li><a class="footer-link" href="#">SALES</a></li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">SHOPPING</a></li>
                <li><a class="footer-link" href="#">Contact Us</a></li>
                <li><a class="footer-link" href="#">Payment Method</a></li>
                <li><a class="footer-link" href="#">Delivery</a></li>
              </ul>
            </div>
            <div class="col">
              <ul class="footerul">
                <li><a class="footer-link" href="#">NEWSLETTER</a></li>
                <li class="footer-link">
                  <p>
                    Be the first to know about new arrivals, look books, sales &
                    promos
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <br />
        <p class="copyright">Copyright © 3333 All rights reserved | VRNA</p>
      </div>
    
    </footer>
       
    <script>
       let intervalId;
      function updateTimerDisplay(minutes, seconds) {
          const timerElement = document.getElementById("timer");
          timerElement.textContent = `00:${seconds.toString().padStart(2, "0")}`;
      }

      
      function startTimer() {
          let totalSeconds = 30;

         
          updateTimerDisplay(0, 30);

     
          const intervalId = setInterval(function () {
              const minutes = Math.floor(totalSeconds / 60);
              const seconds = totalSeconds % 60;
              console.log(totalSeconds)
              console.log(seconds)
              
              updateTimerDisplay(minutes, seconds);

              if (totalSeconds <= 0) {
                  clearInterval(intervalId); 
                  alert("Timer has expired!"); 
                  document.getElementById("resendOtpLink").style.display = "block";
           

              }

              totalSeconds--; 
          }, 1000); 
      }

    
      window.onload = startTimer;
      document.getElementById("resendOtpLink").addEventListener("click", function(e) {
  e.preventDefault(); 

  
  const targetUrl = this.getAttribute("data-target");

  fetch(targetUrl)
    .then(response => {
      if (response.status === 200) {
   
        console.log("Request was successful.");
      } else {
       
        console.log("Request failed.");
      }
    })
    .catch(error => {
      console.error("An error occurred:", error);
    });


  clearInterval(intervalId);
  startTimer();


  this.style.display = "none";
});
  </script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>